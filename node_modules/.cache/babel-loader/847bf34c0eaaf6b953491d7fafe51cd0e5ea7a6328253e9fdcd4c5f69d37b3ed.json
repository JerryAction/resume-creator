{"ast":null,"code":"import axios from 'axios';\n\n// 配置API基础URL\nconst API_BASE_URL = 'http://localhost:5000/api';\n\n/**\n * 获取所有简历数据\n * @returns {Promise<Object>} 包含所有简历部分的数据对象\n */\nexport const fetchResumeData = async () => {\n  try {\n    // 并行获取所有数据部分\n    const [personalInfoRes, skillsRes, experienceRes, projectsRes, educationRes, footerRes] = await Promise.all([axios.get(`${API_BASE_URL}/personal-info`), axios.get(`${API_BASE_URL}/skills`), axios.get(`${API_BASE_URL}/experience`), axios.get(`${API_BASE_URL}/projects`), axios.get(`${API_BASE_URL}/education`), axios.get(`${API_BASE_URL}/footer`)]);\n    return {\n      personalInfo: personalInfoRes.data,\n      skills: skillsRes.data,\n      experience: experienceRes.data,\n      projects: projectsRes.data,\n      education: educationRes.data,\n      footer: footerRes.data\n    };\n  } catch (error) {\n    console.error('Failed to fetch resume data:', error);\n    throw new Error('获取简历数据失败，请刷新页面重试');\n  }\n};\n\n/**\n * 保存简历数据到指定部分\n * @param {string} section - 要保存的部分名称 (personalInfo, skills, experience, projects, education, footer)\n * @param {Object|Array} data - 要保存的数据\n * @returns {Promise<Object>} 保存结果\n */\nexport const saveResumeData = async (section, data) => {\n  if (!['personalInfo', 'skills', 'experience', 'projects', 'education', 'footer'].includes(section)) {\n    throw new Error('无效的简历部分名称');\n  }\n  try {\n    const response = await axios.post(`${API_BASE_URL}/${section}`, data);\n    return response.data;\n  } catch (error) {\n    console.error(`Failed to save ${section} data:`, error);\n    throw new Error(`保存${getSectionDisplayName(section)}数据失败，请重试`);\n  }\n};\n\n/**\n * 获取部分名称的显示名称\n * @param {string} section - 部分名称\n * @returns {string} 显示名称\n */\nfunction getSectionDisplayName(section) {\n  const displayNames = {\n    personalInfo: '个人信息',\n    skills: '技能特长',\n    experience: '工作经历',\n    projects: '项目经验',\n    education: '教育背景',\n    footer: '页脚信息'\n  };\n  return displayNames[section] || section;\n}","map":{"version":3,"names":["axios","API_BASE_URL","fetchResumeData","personalInfoRes","skillsRes","experienceRes","projectsRes","educationRes","footerRes","Promise","all","get","personalInfo","data","skills","experience","projects","education","footer","error","console","Error","saveResumeData","section","includes","response","post","getSectionDisplayName","displayNames"],"sources":["/Users/lt/ai trae/person/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\n// 配置API基础URL\nconst API_BASE_URL = 'http://localhost:5000/api';\n\n/**\n * 获取所有简历数据\n * @returns {Promise<Object>} 包含所有简历部分的数据对象\n */\nexport const fetchResumeData = async () => {\n  try {\n    // 并行获取所有数据部分\n    const [\n      personalInfoRes,\n      skillsRes,\n      experienceRes,\n      projectsRes,\n      educationRes,\n      footerRes\n    ] = await Promise.all([\n      axios.get(`${API_BASE_URL}/personal-info`),\n      axios.get(`${API_BASE_URL}/skills`),\n      axios.get(`${API_BASE_URL}/experience`),\n      axios.get(`${API_BASE_URL}/projects`),\n      axios.get(`${API_BASE_URL}/education`),\n      axios.get(`${API_BASE_URL}/footer`)\n    ]);\n\n    return {\n      personalInfo: personalInfoRes.data,\n      skills: skillsRes.data,\n      experience: experienceRes.data,\n      projects: projectsRes.data,\n      education: educationRes.data,\n      footer: footerRes.data\n    };\n  } catch (error) {\n    console.error('Failed to fetch resume data:', error);\n    throw new Error('获取简历数据失败，请刷新页面重试');\n  }\n};\n\n/**\n * 保存简历数据到指定部分\n * @param {string} section - 要保存的部分名称 (personalInfo, skills, experience, projects, education, footer)\n * @param {Object|Array} data - 要保存的数据\n * @returns {Promise<Object>} 保存结果\n */\nexport const saveResumeData = async (section, data) => {\n  if (!['personalInfo', 'skills', 'experience', 'projects', 'education', 'footer'].includes(section)) {\n    throw new Error('无效的简历部分名称');\n  }\n\n  try {\n    const response = await axios.post(`${API_BASE_URL}/${section}`, data);\n    return response.data;\n  } catch (error) {\n    console.error(`Failed to save ${section} data:`, error);\n    throw new Error(`保存${getSectionDisplayName(section)}数据失败，请重试`);\n  }\n};\n\n/**\n * 获取部分名称的显示名称\n * @param {string} section - 部分名称\n * @returns {string} 显示名称\n */\nfunction getSectionDisplayName(section) {\n  const displayNames = {\n    personalInfo: '个人信息',\n    skills: '技能特长',\n    experience: '工作经历',\n    projects: '项目经验',\n    education: '教育背景',\n    footer: '页脚信息'\n  };\n  return displayNames[section] || section;\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,YAAY,GAAG,2BAA2B;;AAEhD;AACA;AACA;AACA;AACA,OAAO,MAAMC,eAAe,GAAG,MAAAA,CAAA,KAAY;EACzC,IAAI;IACF;IACA,MAAM,CACJC,eAAe,EACfC,SAAS,EACTC,aAAa,EACbC,WAAW,EACXC,YAAY,EACZC,SAAS,CACV,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACpBV,KAAK,CAACW,GAAG,CAAC,GAAGV,YAAY,gBAAgB,CAAC,EAC1CD,KAAK,CAACW,GAAG,CAAC,GAAGV,YAAY,SAAS,CAAC,EACnCD,KAAK,CAACW,GAAG,CAAC,GAAGV,YAAY,aAAa,CAAC,EACvCD,KAAK,CAACW,GAAG,CAAC,GAAGV,YAAY,WAAW,CAAC,EACrCD,KAAK,CAACW,GAAG,CAAC,GAAGV,YAAY,YAAY,CAAC,EACtCD,KAAK,CAACW,GAAG,CAAC,GAAGV,YAAY,SAAS,CAAC,CACpC,CAAC;IAEF,OAAO;MACLW,YAAY,EAAET,eAAe,CAACU,IAAI;MAClCC,MAAM,EAAEV,SAAS,CAACS,IAAI;MACtBE,UAAU,EAAEV,aAAa,CAACQ,IAAI;MAC9BG,QAAQ,EAAEV,WAAW,CAACO,IAAI;MAC1BI,SAAS,EAAEV,YAAY,CAACM,IAAI;MAC5BK,MAAM,EAAEV,SAAS,CAACK;IACpB,CAAC;EACH,CAAC,CAAC,OAAOM,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;IACpD,MAAM,IAAIE,KAAK,CAAC,kBAAkB,CAAC;EACrC;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,cAAc,GAAG,MAAAA,CAAOC,OAAO,EAAEV,IAAI,KAAK;EACrD,IAAI,CAAC,CAAC,cAAc,EAAE,QAAQ,EAAE,YAAY,EAAE,UAAU,EAAE,WAAW,EAAE,QAAQ,CAAC,CAACW,QAAQ,CAACD,OAAO,CAAC,EAAE;IAClG,MAAM,IAAIF,KAAK,CAAC,WAAW,CAAC;EAC9B;EAEA,IAAI;IACF,MAAMI,QAAQ,GAAG,MAAMzB,KAAK,CAAC0B,IAAI,CAAC,GAAGzB,YAAY,IAAIsB,OAAO,EAAE,EAAEV,IAAI,CAAC;IACrE,OAAOY,QAAQ,CAACZ,IAAI;EACtB,CAAC,CAAC,OAAOM,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,kBAAkBI,OAAO,QAAQ,EAAEJ,KAAK,CAAC;IACvD,MAAM,IAAIE,KAAK,CAAC,KAAKM,qBAAqB,CAACJ,OAAO,CAAC,UAAU,CAAC;EAChE;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,SAASI,qBAAqBA,CAACJ,OAAO,EAAE;EACtC,MAAMK,YAAY,GAAG;IACnBhB,YAAY,EAAE,MAAM;IACpBE,MAAM,EAAE,MAAM;IACdC,UAAU,EAAE,MAAM;IAClBC,QAAQ,EAAE,MAAM;IAChBC,SAAS,EAAE,MAAM;IACjBC,MAAM,EAAE;EACV,CAAC;EACD,OAAOU,YAAY,CAACL,OAAO,CAAC,IAAIA,OAAO;AACzC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}